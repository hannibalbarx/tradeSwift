block 1
egrep ',[01],1410(21(00|01|12|16|17|18|19|20|21|22|23)),' site_train>>tmp
egrep ',[01],1410(22(00|01|02|03|20|21|22|23)),' site_train>>tmp
egrep ',[01],1410(23(00|01|02|06|12|13|14|19|20|21|22|23)),' site_train>>tmp
egrep ',[01],1410(24(00|01|02|03|04|05|09|10|11|19|20|21|22|23)),' site_train>>tmp
egrep ',[01],1410(25(00|01|02|03|04|05|06|07|19|20|21|22|23)),' site_train>>tmp
egrep ',[01],1410(26(00|01|02|03|18|19|20|21|22|23)),' site_train>>tmp
egrep ',[01],1410(27(00|01|02|03|04|08|09|10|11|12|13|14|15|19|20|21|22|23)),' site_train>>tmp
egrep ',[01],1410(28(00|01|02|03|04|20|21|22|23)),' site_train>>tmp
egrep ',[01],1410(29(00|01|02|04|05|06|17|18|19|20|21|22|23)),' site_train>>tmp
egrep ',[01],1410(30(00|01|02|03|04|05|06|07|17|18|19|20|21|22|23)),' site_train>>tmp

block 2
egrep ',[01],1410(21(02|03|07|08|09|10|11|13|14|15)),' site_train>>tmp
egrep ',[01],1410(22(04|14|15|16|17|18|19)),' site_train>>tmp
egrep ',[01],1410(23(03|07|10|11|15|16|17|18)),' site_train>>tmp
egrep ',[01],1410(24(06|07|08|12|13|14|15|18)),' site_train>>tmp
egrep ',[01],1410(25(08|09|10|11|12|18)),' site_train>>tmp
egrep ',[01],1410(26(04|05|06|08|17)),' site_train>>tmp
egrep ',[01],1410(27(05|06|07|16|18)),' site_train>>tmp
egrep ',[01],1410(28(05|12|19)),' site_train>>tmp
egrep ',[01],1410(29(03|07|08|09|11|12|13|15|16)),' site_train>>tmp
egrep ',[01],1410(30(08|09|10|11|13|15|16)),' site_train>>tmp

block 3
egrep ',[01],1410(21(04|05|06)),' site_train>>tmp
egrep ',[01],1410(22(05|06|07|08|09|10|11|12|13)),' site_train>>tmp
egrep ',[01],1410(23(04|05|08|09)),' site_train>>tmp
egrep ',[01],1410(24(16|17)),' site_train>>tmp
egrep ',[01],1410(25(13|14|15|16|17)),' site_train>>tmp
egrep ',[01],1410(26(07|09|10|11|12|13|14|15|16)),' site_train>>tmp
egrep ',[01],1410(27(17)),' site_train>>tmp
egrep ',[01],1410(28(06|07|08|09|10|11|13|14|15|16|17|18)),' site_train>>tmp
egrep ',[01],1410(29(10|14)),' site_train>>tmp
egrep ',[01],1410(30(12|14)),' site_train>>tmp


site_test
egrep ',141031(23|00|22|01|21|03),' site_test>>site_test_1.3
egrep ',141031(02|20|04|19|05|12),' site_test>>site_test_2.3
egrep ',141031(08|17|10|18|09|14|11|13|06|16|07|15),' site_test>>site_test_3.3


head -1 train>250.train
cp 250.train 250.valid
egrep ',[01],1410(2808|2816|2810|2811|2416|2304|2817|2812),' train>>250.train
egrep ',[01],1410(2815|2104|2417|2206|2205|3013|2105|3014),' train>>250.valid

egrep ',[01],1410(2900|3002|2923|2921|2722|2401|2721|2223|2521|3001|2922|2323|2522|2121|2300|2622|2702|3023|2800|2400|2621|2601|2501|2200|2504|2623|2523|2701|2123|2500|2600|2503|2700|2506|2502|2419|2423|2420|2421|2422),' train>>100.train
egrep ',[01],1410(2122|3000|2723),' train>>100.valid

egrep ',[01],1410(2919|2402|2822|2403|2221|2703|2803|2901|2711|2505|2920|2321|3021|2603|2120|3020|2222|2720|2322|2714|2715|2202|2801|2301|2620|3022|2710|2520|2602|2201|3002|2923|2921|2722|2401|2721|2223|2521|3001|2922|2323|2522|2121|2300|2622|2122|3000|2723|2702|3023|2400|2501),' train>>80_130.train
egrep ',[01],1410(3003|2900|2519|2621|2601|2619|2823|2119|2100|2800),' train>>80_130.valid


shuf data/site_train >data/r.site_train
wc -l data/r.site_train 
tail -5166566 data/r.site_train >data/cur.site_val
head -20666265 data/r.site_train >data/cur.site_train
wc -l data/cur.site*

shuf data/app_train >data/r.app_train
wc -l data/r.app_train 
tail -2919227 data/r.app_train >data/cur.app_val
head -11676911 data/r.app_train >data/cur.app_train
wc -l data/cur.app*

perl -ne 'print ((0 == $. % 5) ? $_ : "")'  somefile

[[0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[0,7],[0,8],[0,9],[0,10],[0,11],[0,12],[0,13],[0,14],[0,15],[0,16],[0,17],[0,18],[0,19],[0,20],[0,21],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14],[1,15],[1,16],[1,17],[1,18],[1,19],[1,20],[1,21],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13],[2,14],[2,15],[2,16],[2,17],[2,18],[2,19],[2,20],[2,21],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],[3,13],[3,14],[3,15],[3,16],[3,17],[3,18],[3,19],[3,20],[3,21],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12],[4,13],[4,14],[4,15],[4,16],[4,17],[4,18],[4,19],[4,20],[4,21],[5,6],[5,7],[5,8],[5,9],[5,10],[5,11],[5,12],[5,13],[5,14],[5,15],[5,16],[5,17],[5,18],[5,19],[5,20],[5,21],[6,7],[6,8],[6,9],[6,10],[6,11],[6,12],[6,13],[6,14],[6,15],[6,16],[6,17],[6,18],[6,19],[6,20],[6,21],[7,8],[7,9],[7,10],[7,11],[7,12],[7,13],[7,14],[7,15],[7,16],[7,17],[7,18],[7,19],[7,20],[7,21],[8,9],[8,10],[8,11],[8,12],[8,13],[8,14],[8,15],[8,16],[8,17],[8,18],[8,19],[8,20],[8,21],[9,10],[9,11],[9,12],[9,13],[9,14],[9,15],[9,16],[9,17],[9,18],[9,19],[9,20],[9,21],[10,11],[10,12],[10,13],[10,14],[10,15],[10,16],[10,17],[10,18],[10,19],[10,20],[10,21],[11,12],[11,13],[11,14],[11,15],[11,16],[11,17],[11,18],[11,19],[11,20],[11,21],[12,13],[12,14],[12,15],[12,16],[12,17],[12,18],[12,19],[12,20],[12,21],[13,14],[13,15],[13,16],[13,17],[13,18],[13,19],[13,20],[13,21],[14,15],[14,16],[14,17],[14,18],[14,19],[14,20],[14,21],[15,16],[15,17],[15,18],[15,19],[15,20],[15,21],[16,17],[16,18],[16,19],[16,20],[16,21],[17,18],[17,19],[17,20],[17,21],[18,19],[18,20],[18,21],[19,20],[19,21],[20,21]]

